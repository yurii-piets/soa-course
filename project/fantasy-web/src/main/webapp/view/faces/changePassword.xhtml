<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Change password</title>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css"/>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"/>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"/>
</head>
<body>
<div class="container col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6 col-lg-offset-4 col-lg-4">
    <br/>
    <div class="panel panel-default">
        <div class="panel-heading">
            <h1 class="card-title">Change password</h1>
        </div>

        <div class="panel-body">
            <h:form>
                <h:panelGroup rendered="#{accessBean.isAdmin}">
                    <div class="form-group">
                        <div class="input-group">
                            Select user login:
                            <h:selectOneMenu styleClass="form-control" type="text" value="#{changePassBean.userLogin}"
                                             a:placeholder="Choose user" required="true"
                                             rendered="#{accessBean.isAdmin}">
                                <f:selectItems value="#{accessBean.getUsersNames()}"/>
                            </h:selectOneMenu>
                        </div>
                    </div>
                </h:panelGroup>


                <div class="form-group">
                    <div class="input-group">
                            <span class="input-group-addon">
                                <i class="glyphicon glyphicon-lock" style="width: auto"/>
                            </span>
                        <h:inputSecret styleClass="form-control" type="password" value="#{changePassBean.newPassword}"
                                       a:placeholder="New password" required="true"
                                       binding="#{changePassBean.newPasswordUiInput}"/>
                    </div>
                </div>

                <div class="form-group">
                    <div class="input-group">
                        <span class="input-group-addon">
                            <i class="glyphicon glyphicon-repeat" style="width: auto"/>
                            </span>
                        <h:inputSecret styleClass="form-control" id="repeatPassword" type="password" value="#{changePassBean.repeatPassword}"
                                       a:placeholder="Repeat new password" required="true"
                                       validator="#{changePassBean.validate}"
                                       binding="#{changePassBean.repeatPasswordUiInput}"/>

                    </div>
                </div>

                <h:message for="repeatPassword" style="color: red;"/>

                <div class="form-group">
                    <div class="input-group">
                        <h:commandButton styleClass="btn btn-primary" action="#{changePassBean.submit}" value="Save"/>
                    </div>
                </div>
            </h:form>
        </div>
    </div>
</div>
</body>
</html>