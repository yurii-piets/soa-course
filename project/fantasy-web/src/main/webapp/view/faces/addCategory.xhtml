<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Add category</title>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css"/>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"/>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"/>
    <style>
        h1 {
            font-size: 25px;
        }
    </style>
</head>
<h:body>
    <div class="container col-xs-12 col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6 col-lg-offset-4 col-lg-4">
        <br/>
        <div class="panel panel-default">
            <div class="panel-heading">
                <h1 class="card-title">Add/Edit category: <h:outputText value="#{addCategoryBean.category}"/></h1>
            </div>
            <div class="panel-body">
                <h:form>
                    <div class="form-group inputs">
                        <div class="input-group">
                            <h:outputLabel rendered="#{addCategoryBean.category == 'Cave'}">Square: </h:outputLabel>
                            <h:outputLabel
                                    rendered="#{addCategoryBean.category == 'Forest'}">Amount of trees: </h:outputLabel>
                            <h:outputLabel
                                    rendered="#{addCategoryBean.category == 'Tower'}">Height: </h:outputLabel>

                            <h:inputText
                                    styleClass="form-control"
                                    type="text"
                                    required="true"
                                    id="squareInput"
                                    value="#{addCategoryBean.mainParameter}"/>

                            <h:panelGroup rendered="#{accessBean.isAdmin}">
                                <div>
                                    Select user login:
                                    <h:selectOneMenu styleClass="form-control"
                                                     type="password"
                                                     value="#{addCategoryBean.userLogin}"
                                                     a:placeholder="Choose user" required="true">
                                        <f:selectItems value="#{accessBean.getUsersNames()}"/>
                                    </h:selectOneMenu>
                                </div>
                            </h:panelGroup>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="input-group">
                            <div id="nextBtn" style="display: inline">
                                <h:commandButton styleClass="btn btn-default" value="Next">
                                    <f:param name="category" value="#{addCategoryBean.category}"/>
                                    <f:param name="categoryId" value="#{addCategoryBean.categoryId}"/>
                                    <f:param name="userLogin" value="#{addCategoryBean.userLogin}"/>
                                    <f:param name="mainParameter" value="#{addCategoryBean.mainParameter}"/>
                                    <f:param name="disabledMode" value="#{!addCategoryBean.disabledMode}"/>
                                </h:commandButton>
                            </div>

                            <div id="backBtn" style="display: inline">
                                <h:commandButton styleClass="btn btn-default" value="Back">
                                    <f:param name="category" value="#{addCategoryBean.category}"/>
                                    <f:param name="categoryId" value="#{addCategoryBean.categoryId}"/>
                                    <f:param name="userLogin" value="#{addCategoryBean.userLogin}"/>
                                    <f:param name="mainParameter" value="#{addCategoryBean.mainParameter}"/>
                                    <f:param name="disabledMode" value="#{!addCategoryBean.disabledMode}"/>
                                </h:commandButton>
                            </div>

                            <div id="saveBtn" style="display: inline">
                                <h:commandButton styleClass="btn btn-primary" action="#{addCategoryBean.save}"
                                                 value="Save">
                                    <f:param name="category" value="#{addCategoryBean.category}"/>
                                    <f:param name="categoryId" value="#{addCategoryBean.categoryId}"/>
                                    <f:param name="userLogin" value="#{addCategoryBean.userLogin}"/>
                                    <f:param name="mainParameter" value="#{addCategoryBean.mainParameter}"/>
                                </h:commandButton>
                            </div>
                        </div>
                    </div>
                </h:form>
            </div>
        </div>
    </div>
</h:body>
<script type="text/javascript">
    $('.inputs input').prop('disabled', ${addCategoryBean.disabledMode});
    $('.inputs select').prop('disabled', ${addCategoryBean.disabledMode});
    if (${addCategoryBean.disabledMode}) {
        $('#saveBtn').show();
        $('#nextBtn').hide();
        $('#backBtn').show();
    } else {
        $('#saveBtn').hide();
        $('#nextBtn').show();
        $('#backBtn').hide();
    }
</script>
</html>